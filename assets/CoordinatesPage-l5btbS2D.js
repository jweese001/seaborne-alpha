import{j as e,a as i,B as s,K as l,r as t,O as n,D as a,Q as o,U as r,V as d,W as c,x as m}from"./mui-B-hF9WY3.js";import{I as x,s as u,B as g,a as h,b as p,u as f,c as j,g as b,C as v}from"./index-C5qrrgHK.js";import{u as y,a as D}from"./redux-D4OrAUGJ.js";import"./react-Gmj5k1uE.js";import"./redux-CnoZvtk0.js";import"./router-CBfotOxd.js";import"./crypto-gvjJMIro.js";const C=()=>{const l=y(),{decimal:t,validation:n,lastUpdatedBy:a}=D(e=>e.coordinates),o="decimal"===a&&!n.isValid;return e.jsxs(e.Fragment,{children:[e.jsx(i,{variant:"h6",component:"h3",gutterBottom:!0,sx:{fontWeight:600,color:"text.primary",mb:2},children:"Decimal Degrees (DD)"}),e.jsxs(s,{sx:{display:"flex",gap:2,flexDirection:{xs:"column",sm:"row"}},children:[e.jsx(s,{sx:{flex:1},children:e.jsx(x,{fullWidth:!0,label:"Latitude",type:"number",value:0===t.lat?"":t.lat,onChange:e=>{const i=e.target.value;if(""===i||null==i)l(u({lat:0,lng:t.lng}));else{const e=parseFloat(i);isNaN(e)||l(u({lat:e,lng:t.lng}))}},placeholder:"40.7128",inputProps:{step:1e-6,min:-90,max:90},validation:o?{isValid:!1,message:n.errors.find(e=>e.includes("Latitude"))||"Invalid latitude"}:void 0,showValidationIcon:o})}),e.jsx(s,{sx:{flex:1},children:e.jsx(x,{fullWidth:!0,label:"Longitude",type:"number",value:0===t.lng?"":t.lng,onChange:e=>{const i=e.target.value;if(""===i||null==i)l(u({lat:t.lat,lng:0}));else{const e=parseFloat(i);isNaN(e)||l(u({lat:t.lat,lng:e}))}},placeholder:"-74.0060",inputProps:{step:1e-6,min:-180,max:180},validation:o?{isValid:!1,message:n.errors.find(e=>e.includes("Longitude"))||"Invalid longitude"}:void 0,showValidationIcon:o})})]}),e.jsx(i,{variant:"body2",color:"text.secondary",sx:{mt:1,fontSize:"0.875rem"},children:"Enter coordinates in decimal degrees format (e.g., 40.7128, -74.0060)"})]})},V=[{symbol:"°",label:"Degree",description:"Degree symbol"},{symbol:"'",label:"Minute",description:"Minute symbol"},{symbol:"N",label:"North",description:"North direction"},{symbol:"S",label:"South",description:"South direction"},{symbol:"E",label:"East",description:"East direction"},{symbol:"W",label:"West",description:"West direction"}],W=({onSymbolInsert:t,disabled:n=!1})=>e.jsxs(s,{sx:{mb:2},children:[e.jsx(i,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,sx:{fontSize:"0.875rem",mb:1},children:"Insert Symbols:"}),e.jsxs(s,{sx:{display:"flex",flexWrap:"wrap",gap:1.5,"& .MuiButtonGroup-root":{marginBottom:1}},children:[e.jsx(l,{size:"small",variant:"outlined",children:V.slice(0,2).map(({symbol:i,description:s})=>e.jsx(g,{onClick:()=>t(i),disabled:n,size:"small",title:s,sx:{minWidth:40,fontFamily:"monospace",fontSize:"1.5rem"},children:i},i))}),e.jsx(l,{size:"small",variant:"outlined",children:V.slice(2).map(({symbol:i,description:s})=>e.jsx(g,{onClick:()=>t(i),disabled:n,size:"small",title:s,sx:{minWidth:40,fontWeight:600},children:i},i))})]}),e.jsx(i,{variant:"caption",color:"text.secondary",sx:{fontSize:"0.75rem",fontStyle:"italic"},children:"Click symbols to insert into focused DDM field"})]}),S=()=>{const l=y(),{ddm:n,validation:a,lastUpdatedBy:o}=D(e=>e.coordinates),r=t.useRef(null),d=t.useRef(null),[c,m]=t.useState(null),u=e=>{m(e)},g=()=>{},f="ddm"===o&&!a.isValid;return e.jsxs(e.Fragment,{children:[e.jsx(i,{variant:"h6",component:"h3",gutterBottom:!0,sx:{fontWeight:600,color:"text.primary",mb:2},children:"Degrees Decimal Minutes (DDM)"}),e.jsxs(s,{sx:{display:"flex",gap:2,flexDirection:{xs:"column",sm:"row"},mb:2},children:[e.jsx(s,{sx:{flex:1},children:e.jsx(x,{fullWidth:!0,label:"Latitude",value:n.lat,onChange:e=>{l(h(e.target.value))},onFocus:()=>u("lat"),onBlur:g,placeholder:"40° 42.768' N",inputRef:r,validation:f?{isValid:!1,message:a.errors.find(e=>e.includes("Latitude"))||"Invalid latitude format"}:void 0,showValidationIcon:f})}),e.jsx(s,{sx:{flex:1},children:e.jsx(x,{fullWidth:!0,label:"Longitude",value:n.lng,onChange:e=>{l(p(e.target.value))},onFocus:()=>u("lng"),onBlur:g,placeholder:"74° 0.360' W",inputRef:d,validation:f?{isValid:!1,message:a.errors.find(e=>e.includes("Longitude"))||"Invalid longitude format"}:void 0,showValidationIcon:f})})]}),e.jsx(W,{onSymbolInsert:e=>{let i=null,s=null;if(document.activeElement===r.current?(i=r,s="lat"):document.activeElement===d.current?(i=d,s="lng"):c&&(i="lat"===c?r:d,s=c),i?.current&&s){const t=i.current,a=t.selectionStart||0,o=t.selectionEnd||0,r="lat"===s?n.lat:n.lng,d=r.slice(0,a)+e+r.slice(o);l("lat"===s?h(d):p(d)),requestAnimationFrame(()=>{t.focus(),t.setSelectionRange(a+e.length,a+e.length),m(s)})}},disabled:!c}),e.jsx(i,{variant:"body2",color:"text.secondary",sx:{mt:1,fontSize:"0.875rem"},children:"Enter coordinates in DDM format (e.g., 40° 42.768' N, 74° 0.360' W)"})]})},I=t.memo(()=>{const i=y(),{decimal:l,validation:m}=D(e=>e.coordinates),{buttonSize:x,needsCompactLayout:u,vibrate:h,announceToScreenReader:p}=f(),V=t.useCallback(()=>{i(j()),h(100),p("Coordinates cleared")},[i,h,p]),W=t.useCallback(()=>{if(m.isValid){const e=b(l.lat,l.lng);window.open(e,"_blank","noopener,noreferrer"),h([100,50,100]),p("Opening coordinates in Google Maps")}},[m.isValid,l.lat,l.lng,h,p]);return e.jsxs(v,{title:"Coordinate Converter",subtitle:"Convert between Decimal Degrees and Degrees Decimal Minutes",action:e.jsx(r,{icon:m.isValid?e.jsx(d,{}):e.jsx(c,{}),label:m.isValid?"Valid":"Invalid",color:m.isValid?"success":"error",size:"small"}),children:[!m.isValid&&m.errors.length>0&&e.jsxs(n,{severity:"error",sx:{mb:3},variant:"outlined",children:[e.jsx("strong",{children:"Coordinate Errors:"}),e.jsx("ul",{style:{margin:"0.5rem 0 0 0",paddingLeft:"1.5rem"},children:m.errors.map((i,s)=>e.jsx("li",{children:i},s))})]}),m.isValid&&e.jsx(n,{severity:"success",sx:{mb:3},variant:"outlined",children:"Coordinates are valid and ready for navigation."}),e.jsx(s,{sx:{mb:3},children:e.jsx(C,{})}),e.jsx(a,{sx:{my:3}}),e.jsx(s,{sx:{mb:3},children:e.jsx(S,{})}),e.jsxs(s,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},gap:2,mt:3},children:[e.jsx(g,{variant:"contained",startIcon:e.jsx(o,{}),onClick:W,disabled:!m.isValid,size:x,fullWidth:u,sx:{minHeight:{xs:"48px",sm:"40px"},flex:u?void 0:1},children:u?"Open in Maps":"Open in Google Maps"}),e.jsx(g,{variant:"outlined",onClick:V,size:x,fullWidth:u,sx:{minHeight:{xs:"48px",sm:"40px"},flex:u?void 0:1},children:"Clear"})]})]})}),z=()=>e.jsxs(m,{maxWidth:"lg",children:[e.jsxs(s,{sx:{mb:4},children:[e.jsx(i,{variant:"h4",component:"h1",gutterBottom:!0,children:"Navigation Tools"}),e.jsx(i,{variant:"body1",color:"text.secondary",children:"Convert between Decimal Degrees and DDM (Degrees Decimal Minutes) formats for maritime navigation"})]}),e.jsx(I,{})]});export{z as default};
