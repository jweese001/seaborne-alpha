import{r as e,j as t,B as o,O as s,a as r,X as i,Y as n,Z as l,_ as a,$ as d,U as c,a0 as p,a1 as x,a2 as u,a3 as g,a4 as m,a5 as f,a6 as h}from"./mui-B-hF9WY3.js";import{u as b,i as y}from"./redux-CnoZvtk0.js";import{C as j,d as v,e as F,r as C,f as S,h as T,i as w}from"./index-Wy9Nz8NF.js";import{a as D}from"./redux-D4OrAUGJ.js";import"./react-Gmj5k1uE.js";import"./router-C9K2MBDU.js";import"./crypto-gvjJMIro.js";const B=()=>{const{parameters:b,configuration:y}=D(e=>e.mission),{selectedVesselId:v}=D(e=>e.fleet),{assets:F}=D(e=>e.financial),C=v?F[v]:null,S=y.weatherImpact||1,T=e.useMemo(()=>b&&C?((e,t,o,s=1,r="")=>{const{cruiseDistance:i,towDistance:n,cruiseSpeed:l,towSpeed:a,setupTime:d,crewSize:c}=e,p=i/l,x=n/a,u=(p+x+d)*s;let g={hourlyRate:0,fuelCost:0,maintenanceCost:0,total:0};if(t&&t.specifications){const e=t.cost*u,o=(p*(t.specifications.fuelRate||0)+x*(t.specifications.fuelRate||0)*1.2)*(t.specifications.fuelPricePerGallon||4.5),s=(t.specifications.dailyMaintenanceCost||4*t.cost)*Math.ceil(u/24);g={hourlyRate:e,fuelCost:o,maintenanceCost:s,total:e+o+s}}const m=Object.values(o).filter(e=>"crew"===e.assetType&&e.includedInMission),f=Math.min(u,8),h=Math.max(0,u-8);let b={regularHours:f,overtimeHours:h,regularCost:0,overtimeCost:0,total:0};m.forEach(e=>{const t=e.cost*f,o=e.cost*h*1.5;b.regularCost+=t,b.overtimeCost+=o}),b.total=b.regularCost+b.overtimeCost;const y=Object.values(o).filter(e=>"equipment"===e.assetType&&e.includedInMission),j=(e=>{switch(e.toLowerCase()){case"emergency salvage":return 2.5;case"equipment transport":return 1.5;default:return 1}})(r),v={total:0,items:y.map(e=>{let t=e.cost,o=e.fee;if("hour"===e.period)t*=u,o*=u;else if("day"===e.period){const e=Math.ceil(u/24);t*=e,o*=e}return t*=j,o*=j,{name:e.name,cost:t,fee:o}})};v.total=v.items.reduce((e,t)=>e+t.cost,0);const F={total:0,items:Object.values(o).filter(e=>"supplies"===e.assetType&&e.includedInMission).map(e=>({name:e.name,cost:e.cost*(e.quantity||1),fee:e.fee*(e.quantity||1)}))};F.total=F.items.reduce((e,t)=>e+t.cost,0);const C=Object.values(o).filter(e=>"fuel"===e.assetType&&e.includedInMission);let S={gallonsUsed:0,costPerGallon:0,total:0};if(t&&C.length>0){const e=p*t.specifications.fuelRate,o=x*t.specifications.fuelRate*1.2;S.gallonsUsed=e+o;const s=C[0];S.costPerGallon=s.cost,S.total=S.gallonsUsed*S.costPerGallon}const T=g.total+b.total+v.total+F.total+S.total,w=v.items.reduce((e,t)=>e+t.fee,0),D=F.items.reduce((e,t)=>e+t.fee,0),B=m.reduce((e,t)=>e+(t.customerFee||t.fee||0)*f+(t.customerFee||t.fee||0)*h*1.5,0),M=Object.values(o).filter(e=>"vessel"===e.assetType&&e.includedInMission);let k=0;M.length>0?k=M.reduce((e,t)=>{let o=t.customerFee||t.fee;return"hour"===t.period?o*=u:"day"===t.period&&(o*=Math.ceil(u/24)),e+o},0):t&&(k=(t.customerFee||t.fee||1.2*t.cost)*u);const z=k+B+w+D+(C.length>0&&t?S.gallonsUsed*C[0].fee:0),I=z-T;return{vesselCosts:g,laborCosts:b,equipmentCosts:v,suppliesCosts:F,fuelCosts:S,totalCosts:T,totalFees:z,estimatedProfit:I,profitMargin:z>0?I/z*100:0}})(b,C,F,S,y.typeLabel||""):null,[b,C,F,S,y.typeLabel]),w=e.useMemo(()=>b&&y.departureDateTime?((e,t,o=1)=>{const{cruiseDistance:s,towDistance:r,cruiseSpeed:i,towSpeed:n,setupTime:l}=e,a=s/i,d=r/n,c=a+d+l,p=c*o,x=new Date(t),u=new Date(x.getTime()+60*p*60*1e3);return{departureTime:x.toISOString(),estimatedArrival:u.toISOString(),setupTime:l,cruisingTime:a,towingTime:d,totalMissionTime:c,weatherDelayFactor:o,adjustedTotalTime:p}})(b,y.departureDateTime,S):null,[b,y.departureDateTime,S]);if(!T||!w)return t.jsx(j,{children:t.jsx(o,{sx:{p:3,textAlign:"center"},children:t.jsx(s,{severity:"info",children:"Complete mission configuration and select a vessel to view cost breakdown."})})});const B=e=>`$${e.toFixed(2)}`,M=e=>{const t=Math.floor(e);return`${t}h ${Math.round(60*(e-t))}m`},k=T.profitMargin<0?"error":T.profitMargin<10?"warning":"success";return t.jsx(j,{children:t.jsxs(o,{sx:{p:3},children:[t.jsxs(r,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1,fontSize:{xs:"1rem",sm:"1.25rem"}},children:[t.jsx(i,{sx:{color:"#FFFFFF"}}),t.jsx(o,{component:"span",sx:{color:"#FFD700"},children:"Mission Cost Breakdown"})]}),t.jsxs(o,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr 1fr",md:"1fr 1fr 1fr 1fr"},gap:2},children:[t.jsx(o,{children:t.jsxs(o,{sx:{textAlign:"center",p:2,background:"linear-gradient(135deg, #001122 0%, #003366 100%)",color:"#FFFFFF",borderRadius:2,border:"1px solid rgba(255, 215, 0, 0.2)",backdropFilter:"blur(10px)",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.3)",minHeight:"100px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[t.jsx(r,{variant:"h6",fontWeight:"bold",sx:{color:"#FF6B6B",mb:.5},children:B(T.totalCosts)}),t.jsx(r,{variant:"caption",sx:{color:"#CCCCCC"},children:"Total Costs"})]})}),t.jsx(o,{children:t.jsxs(o,{sx:{textAlign:"center",p:2,background:"linear-gradient(135deg, #001122 0%, #003366 100%)",color:"#FFFFFF",borderRadius:2,border:"1px solid rgba(255, 215, 0, 0.2)",backdropFilter:"blur(10px)",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.3)",minHeight:"100px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[t.jsx(r,{variant:"h6",fontWeight:"bold",sx:{color:"#00FF7F",mb:.5},children:B(T.totalFees)}),t.jsx(r,{variant:"caption",sx:{color:"#CCCCCC"},children:"Total Revenue"})]})}),t.jsx(o,{children:t.jsxs(o,{sx:{textAlign:"center",p:2,background:"linear-gradient(135deg, #001122 0%, #003366 100%)",color:"#FFFFFF",borderRadius:2,border:"1px solid rgba(255, 215, 0, 0.2)",backdropFilter:"blur(10px)",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.3)",minHeight:"100px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[t.jsx(r,{variant:"h6",fontWeight:"bold",sx:{color:T.estimatedProfit>=0?"#FFD700":"#FF6B6B",mb:.5},children:B(T.estimatedProfit)}),t.jsx(r,{variant:"caption",sx:{color:"#CCCCCC"},children:"Net Profit"})]})}),t.jsx(o,{children:t.jsxs(o,{sx:{textAlign:"center",p:2,background:"linear-gradient(135deg, #001122 0%, #003366 100%)",color:"#FFFFFF",borderRadius:2,border:"1px solid rgba(255, 215, 0, 0.2)",backdropFilter:"blur(10px)",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.3)",minHeight:"100px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[t.jsxs(r,{variant:"h6",fontWeight:"bold",sx:{color:T.profitMargin<0?"#FF6B6B":T.profitMargin<10?"#FFA500":"#00FF7F",mb:.5},children:[T.profitMargin.toFixed(1),"%"]}),t.jsx(r,{variant:"caption",sx:{color:"#CCCCCC",mb:1},children:"Profit Margin"}),t.jsx(n,{variant:"determinate",value:Math.max(0,Math.min(100,Math.abs(T.profitMargin))),color:k,sx:{width:"100%",backgroundColor:"rgba(255, 255, 255, 0.1)","& .MuiLinearProgress-bar":{backgroundColor:T.profitMargin<0?"#FF6B6B":T.profitMargin<10?"#FFA500":"#00FF7F"}}})]})})]}),t.jsxs(l,{defaultExpanded:!0,children:[t.jsx(a,{expandIcon:t.jsx(p,{}),children:t.jsxs(o,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},alignItems:{xs:"flex-start",md:"center"},gap:1,width:"100%"},children:[t.jsxs(o,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(d,{}),t.jsx(r,{variant:"subtitle1",fontWeight:"bold",children:"Mission Timeline"})]}),t.jsxs(o,{sx:{display:"flex",gap:.5,alignItems:"center"},children:[t.jsx(c,{label:M(w.adjustedTotalTime),color:"primary",variant:"outlined",size:"small"}),S>1&&t.jsx(c,{label:`+${M(w.adjustedTotalTime-w.totalMissionTime)} weather delay`,color:"warning",variant:"outlined",size:"small"})]})]})}),t.jsx(x,{children:t.jsxs(o,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",md:"1fr 1fr 1fr"},gap:2},children:[t.jsxs(o,{children:[t.jsx(r,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Departure Time"}),t.jsx(r,{variant:"body1",fontWeight:"bold",children:new Date(w.departureTime).toLocaleString()})]}),t.jsxs(o,{children:[t.jsx(r,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Estimated Arrival"}),t.jsx(r,{variant:"body1",fontWeight:"bold",children:new Date(w.estimatedArrival).toLocaleString()})]}),t.jsxs(o,{children:[t.jsx(r,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Total Duration"}),t.jsx(r,{variant:"body1",fontWeight:"bold",children:M(w.adjustedTotalTime)})]}),t.jsxs(o,{children:[t.jsx(r,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Cruising Time"}),t.jsx(r,{variant:"body1",children:M(w.cruisingTime)})]}),t.jsxs(o,{children:[t.jsx(r,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Towing Time"}),t.jsx(r,{variant:"body1",children:M(w.towingTime)})]}),t.jsxs(o,{children:[t.jsx(r,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Setup Time"}),t.jsx(r,{variant:"body1",children:M(w.setupTime)})]}),t.jsxs(o,{children:[t.jsx(r,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Weather Impact"}),t.jsx(r,{variant:"body1",color:S>1?"warning.main":"success.main",children:S>1?`+${(100*(S-1)).toFixed(0)}% delay`:"Favorable conditions"})]}),S>1&&t.jsxs(o,{children:[t.jsx(r,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Weather Delay"}),t.jsxs(r,{variant:"body1",color:"warning.main",children:["+",M(w.adjustedTotalTime-w.totalMissionTime)]})]})]})})]}),t.jsxs(l,{children:[t.jsx(a,{expandIcon:t.jsx(p,{}),children:t.jsxs(o,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(u,{}),t.jsx(r,{variant:"subtitle1",fontWeight:"bold",children:"Vessel Costs"}),t.jsx(c,{label:B(T.vesselCosts.total),color:"error",variant:"outlined",size:"small"})]})}),t.jsx(x,{children:t.jsxs(o,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",md:"1fr 1fr"},gap:2},children:[t.jsxs(o,{children:[t.jsx(r,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Hourly Rate"}),t.jsx(r,{variant:"body1",fontWeight:"bold",children:B(T.vesselCosts.hourlyRate)})]}),t.jsxs(o,{children:[t.jsx(r,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Fuel Cost"}),t.jsx(r,{variant:"body1",fontWeight:"bold",children:B(T.vesselCosts.fuelCost)})]}),t.jsxs(o,{children:[t.jsx(r,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Maintenance"}),t.jsx(r,{variant:"body1",fontWeight:"bold",children:B(T.vesselCosts.maintenanceCost)})]}),t.jsxs(o,{children:[t.jsx(r,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Fuel Required"}),t.jsxs(r,{variant:"body1",fontWeight:"bold",children:[T.fuelCosts.gallonsUsed?.toFixed(1)||"0.0"," gallons"]})]})]})})]}),t.jsxs(l,{children:[t.jsx(a,{expandIcon:t.jsx(p,{}),children:t.jsxs(o,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(g,{}),t.jsx(r,{variant:"subtitle1",fontWeight:"bold",children:"Labor Costs"}),t.jsx(c,{label:B(T.laborCosts.total),color:"error",variant:"outlined",size:"small"})]})}),t.jsx(x,{children:t.jsxs(o,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",md:"1fr 1fr"},gap:2},children:[t.jsxs(o,{children:[t.jsxs(r,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Regular Hours (",M(T.laborCosts.regularHours),")"]}),t.jsx(r,{variant:"body1",fontWeight:"bold",children:B(T.laborCosts.regularCost)})]}),t.jsxs(o,{children:[t.jsxs(r,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Overtime Hours (",M(T.laborCosts.overtimeHours),")"]}),t.jsx(r,{variant:"body1",fontWeight:"bold",color:"warning.main",children:B(T.laborCosts.overtimeCost)})]})]})})]}),T.equipmentCosts.items.length>0&&t.jsxs(l,{children:[t.jsx(a,{expandIcon:t.jsx(p,{}),children:t.jsxs(o,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(m,{}),t.jsx(r,{variant:"subtitle1",fontWeight:"bold",children:"Equipment Costs"}),t.jsx(c,{label:B(T.equipmentCosts.total),color:"error",variant:"outlined",size:"small"})]})}),t.jsx(x,{children:T.equipmentCosts.items.map((e,s)=>t.jsxs(o,{sx:{display:"flex",justifyContent:"space-between",py:1},children:[t.jsx(r,{variant:"body2",children:e.name}),t.jsx(r,{variant:"body2",fontWeight:"bold",children:B(e.cost)})]},s))})]}),T.suppliesCosts.items.length>0&&t.jsxs(l,{children:[t.jsx(a,{expandIcon:t.jsx(p,{}),children:t.jsxs(o,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(f,{}),t.jsx(r,{variant:"subtitle1",fontWeight:"bold",children:"Supplies Costs"}),t.jsx(c,{label:B(T.suppliesCosts.total),color:"error",variant:"outlined",size:"small"})]})}),t.jsx(x,{children:T.suppliesCosts.items.map((e,s)=>t.jsxs(o,{sx:{display:"flex",justifyContent:"space-between",py:1},children:[t.jsx(r,{variant:"body2",children:e.name}),t.jsx(r,{variant:"body2",fontWeight:"bold",children:B(e.cost)})]},s))})]}),T.fuelCosts.total>0&&t.jsxs(l,{children:[t.jsx(a,{expandIcon:t.jsx(p,{}),children:t.jsxs(o,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(h,{}),t.jsx(r,{variant:"subtitle1",fontWeight:"bold",children:"Fuel Costs"}),t.jsx(c,{label:B(T.fuelCosts.total),color:"error",variant:"outlined",size:"small"})]})}),t.jsx(x,{children:t.jsxs(o,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",md:"1fr 1fr"},gap:2},children:[t.jsxs(o,{children:[t.jsx(r,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Gallons Used"}),t.jsxs(r,{variant:"body1",fontWeight:"bold",children:[T.fuelCosts.gallonsUsed.toFixed(1)," gal"]})]}),t.jsxs(o,{children:[t.jsx(r,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Cost per Gallon"}),t.jsx(r,{variant:"body1",fontWeight:"bold",children:B(T.fuelCosts.costPerGallon)})]}),t.jsxs(o,{children:[t.jsx(r,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Total Fuel Cost"}),t.jsx(r,{variant:"body1",fontWeight:"bold",children:B(T.fuelCosts.total)})]})]})})]}),T.estimatedProfit<0&&t.jsx(s,{severity:"error",sx:{mt:2},children:t.jsxs(r,{variant:"body2",children:["This mission configuration will result in a loss of ",B(Math.abs(T.estimatedProfit)),". Consider adjusting parameters, vessel selection, or pricing to improve profitability."]})}),T.profitMargin>0&&T.profitMargin<10&&t.jsx(s,{severity:"warning",sx:{mt:2},children:t.jsxs(r,{variant:"body2",children:["Low profit margin (",T.profitMargin.toFixed(1),"%). Consider optimizing costs or increasing customer fees to improve margins."]})})]})})},M=()=>{const[o,s]=e.useState(!1),[r,i]=e.useState({missionType:"Commercial Towing",priority:"routine",departureDate:"",departureTime:"14:30",weatherImpact:0,cruiseSpeed:"",towSpeed:"",cruiseDistance:"",towDistance:"",setupTime:"",setupTimeUnit:"minutes"}),n=b(),{isExpanded:l}=y(e=>e.fleet),{assets:a}=y(e=>e.financial),d=y(e=>e.fleet.selectedVesselId),c=Object.values(a).filter(e=>"vessel"===e.assetType&&e.includedInMission),p=Object.values(a).filter(e=>"crew"===e.assetType&&e.includedInMission).length,x=e=>{n(F(e))},u=d?a[d]:null;e.useEffect(()=>{u?.specifications&&i(e=>({...e,cruiseSpeed:u.specifications.cruiseSpeed?.toString()||"",towSpeed:u.specifications.towSpeed?.toString()||""}))},[u]);const g=(e,t)=>{i(o=>({...o,[e]:t}))};return t.jsx("div",{style:{maxWidth:"1200px",margin:"0 auto"},children:t.jsxs(j,{children:[t.jsx("div",{style:{color:"#FFD700",fontSize:"20px",fontWeight:700,marginBottom:"20px",display:"flex",alignItems:"center",gap:"10px"},children:"â±ï¸ Mission Planner"}),t.jsx("div",{style:{color:"#ccc",fontSize:"14px",marginBottom:"20px",lineHeight:1.5},children:"Advanced mission planning with fleet selection, real-time cost estimation, weather integration, and comprehensive calculations"}),t.jsxs("div",{style:{background:"#2a3540",borderRadius:"12px",padding:"20px",marginBottom:"20px",border:"1px solid #445566"},children:[t.jsx("h3",{style:{color:"#FFD700",fontSize:"16px",fontWeight:700,marginBottom:"15px",display:"flex",alignItems:"center",gap:"8px"},children:"ðŸŽ¯ Mission Configuration"}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"20px"},children:[t.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[t.jsx("label",{style:{color:"#ccc",fontSize:"14px",fontWeight:600,marginBottom:"8px"},children:"Mission Type"}),t.jsxs("select",{id:"mission-type",value:r.missionType,onChange:e=>g("missionType",e.target.value),style:{background:"#333",border:"2px solid #555",borderRadius:"8px",color:"#fff",padding:"12px",fontSize:"14px"},children:[t.jsx("option",{children:"Commercial Towing"}),t.jsx("option",{children:"Emergency Salvage"}),t.jsx("option",{children:"Equipment Transport"}),t.jsx("option",{children:"Research Support"})]})]}),t.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[t.jsx("label",{style:{color:"#ccc",fontSize:"14px",fontWeight:600,marginBottom:"8px"},children:"Priority Level"}),t.jsxs("select",{id:"mission-priority",value:r.priority,onChange:e=>g("priority",e.target.value),style:{background:"#333",border:"2px solid #555",borderRadius:"8px",color:"#fff",padding:"12px",fontSize:"14px"},children:[t.jsx("option",{value:"routine",children:"Routine Operations"}),t.jsx("option",{value:"urgent",children:"Urgent Response"}),t.jsx("option",{value:"emergency",children:"Emergency Dispatch"})]})]})]})]}),t.jsxs("div",{style:{background:"#2a3540",borderRadius:"12px",marginBottom:"20px",border:"1px solid #445566",overflow:"hidden",transition:"all 0.3s ease"},children:[t.jsxs("div",{onClick:()=>{n(v(!l))},style:{padding:"15px 20px",background:"rgba(255, 215, 0, 0.1)",borderBottom:"1px solid #445566",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center",transition:"all 0.3s ease"},onMouseEnter:e=>{e.currentTarget.style.background="rgba(255, 215, 0, 0.15)"},onMouseLeave:e=>{e.currentTarget.style.background="rgba(255, 215, 0, 0.1)"},children:[t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[t.jsx("div",{style:{color:"#FFD700",fontSize:"14px",fontWeight:700},children:u?`Vessel: ${u.name}`:"Vessel: None"}),t.jsx("div",{style:{color:"#ccc",fontSize:"12px"},children:u?`${u.specifications?.vesselType||"Vessel"} - Cruise: ${u.specifications?.cruiseSpeed||0}kts, Tow: ${u.specifications?.towSpeed||0}kts, Rate: $${u.cost||0}/${u.period||"hr"}`:"No vessel selected"})]}),t.jsx("div",{style:{color:"#FFD700",fontSize:"18px",transform:l?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.3s ease"},children:"â–¼"})]}),l&&t.jsx("div",{style:{borderTop:"1px solid #445566"},children:t.jsxs("div",{style:{padding:"15px"},children:[t.jsxs("div",{onClick:()=>x(null),style:{padding:"15px",background:null===d?"rgba(255, 215, 0, 0.1)":"#333",borderRadius:"8px",marginBottom:"10px",cursor:"pointer",border:null===d?"2px solid #FFD700":"1px solid #555",transition:"all 0.3s ease"},onMouseEnter:e=>{null!==d&&(e.currentTarget.style.background="#444",e.currentTarget.style.borderColor="#FFD700")},onMouseLeave:e=>{null!==d&&(e.currentTarget.style.background="#333",e.currentTarget.style.borderColor="#555")},children:[t.jsx("div",{style:{color:"#fff",fontSize:"16px",fontWeight:600,marginBottom:"5px"},children:"None"}),t.jsx("div",{style:{color:"#ccc",fontSize:"12px"},children:"No vessel selected"})]}),0===Object.values(c).length?t.jsx("div",{style:{padding:"20px",textAlign:"center",color:"#888",fontStyle:"italic",background:"#333",borderRadius:"8px",margin:"10px 0"},children:'No vessels available. Add vessels in the Assets page by creating "Vessel" type assets.'}):c.map(e=>t.jsxs("div",{onClick:()=>x(e.id),style:{padding:"15px",background:e.id===d?"rgba(255, 215, 0, 0.1)":"#333",borderRadius:"8px",marginBottom:"10px",cursor:"pointer",border:e.id===d?"2px solid #FFD700":"1px solid #555",transition:"all 0.3s ease"},onMouseEnter:t=>{e.id!==d&&(t.currentTarget.style.background="#444",t.currentTarget.style.borderColor="#FFD700")},onMouseLeave:t=>{e.id!==d&&(t.currentTarget.style.background="#333",t.currentTarget.style.borderColor="#555")},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"8px"},children:[t.jsx("div",{style:{color:"#fff",fontSize:"16px",fontWeight:600},children:e.name}),t.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[t.jsx("div",{style:{background:e.includedInMission?"linear-gradient(135deg, #FFD700 0%, #FFA500 100%)":"#666",color:e.includedInMission?"#001122":"#fff",padding:"4px 8px",borderRadius:"4px",fontSize:"10px",fontWeight:600},children:e.includedInMission?"IN MISSION":"Available"}),t.jsx("button",{onClick:t=>{return o=e.id,t.stopPropagation(),n(C(o)),void(d===o&&n(F(null)));var o},style:{background:"#FF6B6B",color:"#fff",border:"none",borderRadius:"4px",padding:"4px 6px",fontSize:"10px",fontWeight:600,cursor:"pointer",transition:"all 0.3s ease"},onMouseEnter:e=>{e.currentTarget.style.background="#FF5555",e.currentTarget.style.transform="scale(1.05)"},onMouseLeave:e=>{e.currentTarget.style.background="#FF6B6B",e.currentTarget.style.transform="scale(1)"},title:"Remove vessel from fleet",children:"âœ•"})]})]}),t.jsxs("div",{style:{color:"#ccc",fontSize:"12px",lineHeight:1.4},children:[e.specifications?.vesselType||"Vessel"," â€¢ Cruise: ",e.specifications?.cruiseSpeed||0,"kts â€¢ Tow: ",e.specifications?.towSpeed||0,"kts",t.jsx("br",{}),"Fuel: ",e.specifications?.fuelRate||0,"gal/hr â€¢ Rate: $",e.cost||0,"/",e.period||"hr"," â€¢ ",e.specifications?.crewCapacity?`Crew: ${e.specifications.crewCapacity}`:"No crew info"]})]},e.id))]})})]}),t.jsxs("div",{style:{background:"#2a3540",borderRadius:"12px",padding:"20px",marginBottom:"20px",border:"1px solid #445566"},children:[t.jsx("h3",{style:{color:"#FFD700",fontSize:"16px",fontWeight:700,marginBottom:"15px",display:"flex",alignItems:"center",gap:"8px"},children:"ðŸ—“ï¸ Departure Details"}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"20px"},children:[t.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[t.jsx("label",{style:{color:"#ccc",fontSize:"14px",fontWeight:600,marginBottom:"8px"},children:"Departure Date"}),t.jsx("input",{type:"date",id:"departure-date",value:r.departureDate,onChange:e=>g("departureDate",e.target.value),style:{background:"#333",border:"2px solid #555",borderRadius:"8px",color:"#fff",padding:"12px",fontSize:"14px"}})]}),t.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[t.jsx("label",{style:{color:"#ccc",fontSize:"14px",fontWeight:600,marginBottom:"8px"},children:"Departure Time"}),t.jsxs("div",{style:{display:"flex",alignItems:"stretch",border:"2px solid #555",borderRadius:"8px",transition:"all 0.3s ease"},onFocus:()=>{},className:"input-group",children:[t.jsx("input",{type:"text",id:"departure-time",placeholder:"14:30 or 2:30 PM",value:r.departureTime,onChange:e=>g("departureTime",e.target.value),style:{background:"#333",border:"none",borderRadius:"8px 0 0 8px",color:"#fff",padding:"12px",fontSize:"14px",flex:1,outline:"none"},onFocus:e=>{const t=e.target.closest(".input-group");t&&(t.style.borderColor="#FFD700")},onBlur:e=>{const t=e.target.closest(".input-group");t&&(t.style.borderColor="#555")}}),t.jsxs("select",{id:"time-format",style:{background:"#555",border:"none",borderRadius:"0 8px 8px 0",color:"#fff",padding:"12px",fontSize:"14px",width:"80px",outline:"none"},onFocus:e=>{const t=e.target.closest(".input-group");t&&(t.style.borderColor="#FFD700")},onBlur:e=>{const t=e.target.closest(".input-group");t&&(t.style.borderColor="#555")},children:[t.jsx("option",{value:"24",children:"24hr"}),t.jsx("option",{value:"12",children:"12hr"})]})]})]}),t.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[t.jsx("label",{style:{color:"#ccc",fontSize:"14px",fontWeight:600,marginBottom:"8px"},children:"Weather Impact Factor"}),t.jsxs("select",{id:"weather-impact",value:r.weatherImpact,onChange:e=>g("weatherImpact",parseInt(e.target.value)),style:{background:"#333",border:"2px solid #555",borderRadius:"8px",color:"#fff",padding:"12px",fontSize:"14px"},children:[t.jsx("option",{value:"0",children:"No weather impact"}),t.jsx("option",{value:"10",children:"Light conditions (+10% time)"}),t.jsx("option",{value:"25",children:"Moderate conditions (+25% time)"}),t.jsx("option",{value:"50",children:"Heavy conditions (+50% time)"})]})]})]})]}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"20px",marginBottom:"20px"},children:[t.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[t.jsx("label",{style:{color:"#ccc",fontSize:"14px",fontWeight:600,marginBottom:"8px"},children:"Average Cruising Speed"}),t.jsxs("div",{style:{display:"flex",alignItems:"stretch",border:"2px solid #555",borderRadius:"8px",transition:"all 0.3s ease"},className:"input-group",children:[t.jsx("input",{type:"number",id:"cruise-speed",placeholder:u?.specifications?.cruiseSpeed?.toString()||"25",value:r.cruiseSpeed,onChange:e=>g("cruiseSpeed",e.target.value),step:"0.1",min:"0",max:"100",style:{background:"#333",border:"none",borderRadius:"8px 0 0 8px",color:"#fff",padding:"12px",fontSize:"14px",flex:1,outline:"none"},onFocus:e=>{const t=e.target.closest(".input-group");t&&(t.style.borderColor="#FFD700")},onBlur:e=>{const t=e.target.closest(".input-group");t&&(t.style.borderColor="#555")}}),t.jsxs("select",{id:"cruise-speed-unit",style:{background:"#555",border:"none",borderRadius:"0 8px 8px 0",color:"#fff",padding:"12px",fontSize:"14px",width:"100px",outline:"none"},onFocus:e=>{const t=e.target.closest(".input-group");t&&(t.style.borderColor="#FFD700")},onBlur:e=>{const t=e.target.closest(".input-group");t&&(t.style.borderColor="#555")},children:[t.jsx("option",{value:"knots",children:"Knots"}),t.jsx("option",{value:"mph",children:"MPH"})]})]})]}),t.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[t.jsx("label",{style:{color:"#ccc",fontSize:"14px",fontWeight:600,marginBottom:"8px"},children:"Average Towing Speed"}),t.jsxs("div",{style:{display:"flex",alignItems:"stretch",border:"2px solid #555",borderRadius:"8px",transition:"all 0.3s ease"},className:"input-group",children:[t.jsx("input",{type:"number",id:"tow-speed",placeholder:u?.specifications?.towSpeed?.toString()||"8",value:r.towSpeed,onChange:e=>g("towSpeed",e.target.value),step:"0.1",min:"0",max:"50",style:{background:"#333",border:"none",borderRadius:"8px 0 0 8px",color:"#fff",padding:"12px",fontSize:"14px",flex:1,outline:"none"},onFocus:e=>{const t=e.target.closest(".input-group");t&&(t.style.borderColor="#FFD700")},onBlur:e=>{const t=e.target.closest(".input-group");t&&(t.style.borderColor="#555")}}),t.jsxs("select",{id:"tow-speed-unit",style:{background:"#555",border:"none",borderRadius:"0 8px 8px 0",color:"#fff",padding:"12px",fontSize:"14px",width:"100px",outline:"none"},onFocus:e=>{const t=e.target.closest(".input-group");t&&(t.style.borderColor="#FFD700")},onBlur:e=>{const t=e.target.closest(".input-group");t&&(t.style.borderColor="#555")},children:[t.jsx("option",{value:"knots",children:"Knots"}),t.jsx("option",{value:"mph",children:"MPH"})]})]})]}),t.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[t.jsx("label",{style:{color:"#ccc",fontSize:"14px",fontWeight:600,marginBottom:"8px"},children:"Distance Cruising"}),t.jsxs("div",{style:{display:"flex",alignItems:"stretch",border:"2px solid #555",borderRadius:"8px",transition:"all 0.3s ease"},className:"input-group",children:[t.jsx("input",{type:"number",id:"cruise-distance",placeholder:"20",value:r.cruiseDistance,onChange:e=>g("cruiseDistance",e.target.value),step:"0.1",min:"0",max:"10000",style:{background:"#333",border:"none",borderRadius:"8px 0 0 8px",color:"#fff",padding:"12px",fontSize:"14px",flex:1,outline:"none"},onFocus:e=>{const t=e.target.closest(".input-group");t&&(t.style.borderColor="#FFD700")},onBlur:e=>{const t=e.target.closest(".input-group");t&&(t.style.borderColor="#555")}}),t.jsxs("select",{id:"cruise-distance-unit",style:{background:"#555",border:"none",borderRadius:"0 8px 8px 0",color:"#fff",padding:"12px",fontSize:"14px",width:"80px",outline:"none"},onFocus:e=>{const t=e.target.closest(".input-group");t&&(t.style.borderColor="#FFD700")},onBlur:e=>{const t=e.target.closest(".input-group");t&&(t.style.borderColor="#555")},children:[t.jsx("option",{value:"nm",children:"NM"}),t.jsx("option",{value:"sm",children:"SM"})]})]})]}),t.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[t.jsx("label",{style:{color:"#ccc",fontSize:"14px",fontWeight:600,marginBottom:"8px"},children:"Distance Towing"}),t.jsxs("div",{style:{display:"flex",alignItems:"stretch",border:"2px solid #555",borderRadius:"8px",transition:"all 0.3s ease"},className:"input-group",children:[t.jsx("input",{type:"number",id:"tow-distance",placeholder:"15",value:r.towDistance,onChange:e=>g("towDistance",e.target.value),step:"0.1",min:"0",max:"1000",style:{background:"#333",border:"none",borderRadius:"8px 0 0 8px",color:"#fff",padding:"12px",fontSize:"14px",flex:1,outline:"none"},onFocus:e=>{const t=e.target.closest(".input-group");t&&(t.style.borderColor="#FFD700")},onBlur:e=>{const t=e.target.closest(".input-group");t&&(t.style.borderColor="#555")}}),t.jsxs("select",{id:"tow-distance-unit",style:{background:"#555",border:"none",borderRadius:"0 8px 8px 0",color:"#fff",padding:"12px",fontSize:"14px",width:"80px",outline:"none"},onFocus:e=>{const t=e.target.closest(".input-group");t&&(t.style.borderColor="#FFD700")},onBlur:e=>{const t=e.target.closest(".input-group");t&&(t.style.borderColor="#555")},children:[t.jsx("option",{value:"nm",children:"NM"}),t.jsx("option",{value:"sm",children:"SM"})]})]})]}),t.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[t.jsx("label",{style:{color:"#ccc",fontSize:"14px",fontWeight:600,marginBottom:"8px"},children:"Setup Time"}),t.jsxs("div",{style:{display:"flex",alignItems:"stretch",border:"2px solid #555",borderRadius:"8px",transition:"all 0.3s ease"},className:"input-group",children:[t.jsx("input",{type:"number",id:"setup-time",placeholder:"30",value:r.setupTime,onChange:e=>g("setupTime",e.target.value),step:"1",min:"0",max:"240",style:{background:"#333",border:"none",borderRadius:"8px 0 0 8px",color:"#fff",padding:"12px",fontSize:"14px",flex:1,outline:"none"},onFocus:e=>{const t=e.target.closest(".input-group");t&&(t.style.borderColor="#FFD700")},onBlur:e=>{const t=e.target.closest(".input-group");t&&(t.style.borderColor="#555")}}),t.jsxs("select",{id:"setup-time-unit",value:r.setupTimeUnit,onChange:e=>g("setupTimeUnit",e.target.value),style:{background:"#555",border:"none",borderRadius:"0 8px 8px 0",color:"#fff",padding:"12px",fontSize:"14px",width:"100px",outline:"none"},onFocus:e=>{const t=e.target.closest(".input-group");t&&(t.style.borderColor="#FFD700")},onBlur:e=>{const t=e.target.closest(".input-group");t&&(t.style.borderColor="#555")},children:[t.jsx("option",{value:"minutes",children:"Min"}),t.jsx("option",{value:"hours",children:"Hrs"})]})]})]}),t.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[t.jsxs("label",{style:{color:"#ccc",fontSize:"14px",fontWeight:600,marginBottom:"8px"},children:["Crew Size ",p>0&&t.jsx("span",{style:{color:"#90EE90",fontSize:"12px"},children:"â€¢ Auto-calculated from Assets"})]}),t.jsxs("div",{style:{display:"flex",alignItems:"stretch",border:"2px solid #555",borderRadius:"8px",transition:"all 0.3s ease"},className:"input-group",children:[t.jsx("input",{type:"number",id:"crew-size",value:p||0,readOnly:!0,style:{background:p>0?"#2a5934":"#333",border:"none",borderRadius:"8px 0 0 8px",color:p>0?"#90EE90":"#fff",padding:"12px",fontSize:"14px",flex:1,outline:"none",cursor:"not-allowed"}}),t.jsx("select",{id:"crew-size-unit",style:{background:"#555",border:"none",borderRadius:"0 8px 8px 0",color:"#fff",padding:"12px",fontSize:"14px",width:"100px",outline:"none"},onFocus:e=>{const t=e.target.closest(".input-group");t&&(t.style.borderColor="#FFD700")},onBlur:e=>{const t=e.target.closest(".input-group");t&&(t.style.borderColor="#555")},children:t.jsx("option",{value:"people",children:"People"})})]})]})]}),t.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"20px",flexWrap:"wrap"},children:[t.jsx("button",{onClick:()=>{if(!(u&&r.cruiseSpeed&&r.towSpeed&&r.cruiseDistance&&r.towDistance))return void alert("Please complete all mission parameters and select a vessel.");const e="minutes"===r.setupTimeUnit?parseFloat(r.setupTime||"0")/60:parseFloat(r.setupTime||"0");n(S({cruiseSpeed:parseFloat(r.cruiseSpeed),towSpeed:parseFloat(r.towSpeed),cruiseDistance:parseFloat(r.cruiseDistance),towDistance:parseFloat(r.towDistance),distance:parseFloat(r.cruiseDistance)+parseFloat(r.towDistance),setupTime:e,crewSize:p,weatherImpact:1+r.weatherImpact/100})),n(T({type:r.missionType,typeLabel:r.missionType,priority:r.priority,priorityLabel:r.priority,priorityMultiplier:"emergency"===r.priority?2:"urgent"===r.priority?1.5:1,departureDateTime:r.departureDate?`${r.departureDate}T${r.departureTime}`:(new Date).toISOString(),weatherImpact:1+r.weatherImpact/100})),n(w()),s(!0)},style:{background:"linear-gradient(135deg, #FFD700 0%, #FFA500 100%)",color:"#001122",border:"none",padding:"12px 24px",borderRadius:"8px",fontWeight:700,fontSize:"14px",cursor:"pointer",transition:"all 0.3s ease"},children:"ðŸ§® Calculate Mission"}),t.jsx("button",{onClick:()=>{alert("Weather check functionality - to be implemented")},style:{background:"linear-gradient(135deg, #00BFFF 0%, #0080FF 100%)",color:"#FFFFFF",border:"none",padding:"12px 24px",borderRadius:"8px",fontWeight:600,fontSize:"14px",cursor:"pointer",transition:"all 0.3s ease"},children:"ðŸŒŠ Check Weather"}),t.jsx("button",{onClick:()=>{s(!1)},style:{background:"#666666",color:"#FFFFFF",border:"none",padding:"12px 24px",borderRadius:"8px",fontWeight:600,fontSize:"14px",cursor:"pointer",transition:"all 0.3s ease"},children:"Clear"})]}),o&&t.jsxs("div",{id:"mission-results",style:{marginTop:"30px"},children:[t.jsx("div",{style:{color:"#FFD700",fontSize:"18px",fontWeight:700,marginBottom:"20px",textAlign:"center"},children:"Mission Results"}),t.jsx(B,{})]})]})})};export{M as default};
